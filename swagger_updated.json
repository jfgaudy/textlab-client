{"openapi":"3.1.0","info":{"title":"TextLab API","description":"API Backend pour TextLab avec architecture adaptative Git (sélection automatique LocalGit/GitHubAPI)","version":"1.0.0"},"paths":{"/api/v1/admin/status":{"get":{"tags":["Administration"],"summary":"État général du système","description":"Récupère l'état général du système TextLab","operationId":"get_admin_status_api_v1_admin_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/admin/repositories":{"get":{"tags":["Administration"],"summary":"Liste des dépôts configurés","description":"Récupère la liste de tous les dépôts configurés","operationId":"list_repositories_api_v1_admin_repositories_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}},"post":{"tags":["Administration"],"summary":"Créer un nouveau dépôt","description":"Crée un nouveau dépôt dans la base de données","operationId":"create_repository_api_v1_admin_repositories_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RepositoryCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/repositories/{repo_id}/set-default":{"put":{"tags":["Administration"],"summary":"Définir comme dépôt par défaut","description":"Définit un dépôt comme dépôt par défaut","operationId":"set_default_repository_api_v1_admin_repositories__repo_id__set_default_put","parameters":[{"name":"repo_id","in":"path","required":true,"schema":{"type":"string","title":"Repo Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/repositories/{repo_id}":{"delete":{"tags":["Administration"],"summary":"Supprimer un dépôt","description":"Supprime un dépôt (avec validation)","operationId":"delete_repository_api_v1_admin_repositories__repo_id__delete","parameters":[{"name":"repo_id","in":"path","required":true,"schema":{"type":"string","title":"Repo Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/git/status":{"get":{"tags":["Administration"],"summary":"Statut de la configuration Git","description":"Récupère le statut de la configuration Git","operationId":"get_git_status_api_v1_admin_git_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GitStatusResponse"}}}}}}},"/api/v1/admin/git/stats":{"get":{"tags":["Administration"],"summary":"Statistiques Git détaillées","description":"Récupère les statistiques détaillées du dépôt Git","operationId":"get_git_statistics_api_v1_admin_git_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/admin/git/configure/local":{"post":{"tags":["Administration"],"summary":"Configurer un dépôt Git local","description":"Configure TextLab avec un dépôt Git local","operationId":"configure_local_repo_api_v1_admin_git_configure_local_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LocalRepoConfig"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/git/configure/github":{"post":{"tags":["Administration"],"summary":"Configurer un dépôt GitHub","description":"Configure TextLab avec un dépôt GitHub","operationId":"configure_github_repo_api_v1_admin_git_configure_github_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GitHubRepoConfig"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/git/reconfigure":{"post":{"tags":["Administration"],"summary":"Reconfigurer le dépôt Git","description":"Recharge la configuration Git depuis les paramètres","operationId":"reconfigure_git_api_v1_admin_git_reconfigure_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/admin/git/reset":{"delete":{"tags":["Administration"],"summary":"Réinitialiser la configuration Git","description":"Réinitialise la configuration Git (non destructif)","operationId":"reset_git_config_api_v1_admin_git_reset_delete","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/admin/git/validate/{repo_type}":{"get":{"tags":["Administration"],"summary":"Valider un dépôt avant configuration","description":"Valide qu'un dépôt est compatible avec TextLab","operationId":"validate_repo_api_v1_admin_git_validate__repo_type__get","parameters":[{"name":"repo_type","in":"path","required":true,"schema":{"type":"string","title":"Repo Type"}},{"name":"repo_path","in":"query","required":true,"schema":{"type":"string","title":"Repo Path"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/repositories/{repo_id}/activate":{"put":{"tags":["Administration"],"summary":"Activer un dépôt existant","description":"Active un dépôt existant et le connecte au GitService","operationId":"activate_repository_api_v1_admin_repositories__repo_id__activate_put","parameters":[{"name":"repo_id","in":"path","required":true,"schema":{"type":"string","title":"Repo Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/repositories/{repo_name}/activate-by-name":{"put":{"tags":["Administration"],"summary":"Activer un dépôt par nom","description":"Active un dépôt existant par son nom et le connecte au GitService","operationId":"activate_repository_by_name_api_v1_admin_repositories__repo_name__activate_by_name_put","parameters":[{"name":"repo_name","in":"path","required":true,"schema":{"type":"string","title":"Repo Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/repositories/{repo_id}/credentials":{"put":{"tags":["Administration"],"summary":"Configurer les credentials d'un dépôt","description":"Configure les credentials chiffrés pour un dépôt","operationId":"set_repository_credentials_api_v1_admin_repositories__repo_id__credentials_put","parameters":[{"name":"repo_id","in":"path","required":true,"schema":{"type":"string","title":"Repo Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","title":"Credentials"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Administration"],"summary":"Supprimer les credentials d'un dépôt","description":"Supprime les credentials chiffrés d'un dépôt","operationId":"clear_repository_credentials_api_v1_admin_repositories__repo_id__credentials_delete","parameters":[{"name":"repo_id","in":"path","required":true,"schema":{"type":"string","title":"Repo Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/git/create-local":{"post":{"tags":["Administration"],"summary":"Créer un nouveau dépôt Git local","description":"Crée un nouveau dépôt Git local à partir de zéro","operationId":"create_local_repo_api_v1_admin_git_create_local_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LocalRepoConfig"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/git/pull":{"post":{"tags":["Administration"],"summary":"Pull manuel du repository actif","description":"Effectue un pull manuel sur le repository actuellement actif.\nSynchronise le repository local avec le remote (GitHub).","operationId":"pull_current_repository_api_v1_admin_git_pull_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PullRequest","default":{"auto_resolve_conflicts":false,"force_pull":false}}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PullResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/repositories/{repo_id}/pull":{"post":{"tags":["Administration"],"summary":"Pull d'un repository spécifique","description":"Effectue un pull manuel sur un repository spécifique par son ID.","operationId":"pull_specific_repository_api_v1_admin_repositories__repo_id__pull_post","parameters":[{"name":"repo_id","in":"path","required":true,"schema":{"type":"string","title":"Repo Id"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PullRequest","default":{"auto_resolve_conflicts":false,"force_pull":false}}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PullResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/git/pull/status":{"get":{"tags":["Administration"],"summary":"Statut pull du repository actif","description":"Récupère le statut de synchronisation du repository actif.\nIndique s'il y a des commits à récupérer depuis le remote.","operationId":"get_pull_status_api_v1_admin_git_pull_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PullStatusResponse"}}}}}}},"/api/v1/admin/repositories/{repo_id}/pull/status":{"get":{"tags":["Administration"],"summary":"Statut pull d'un repository spécifique","description":"Récupère le statut de synchronisation d'un repository spécifique.","operationId":"get_repository_pull_status_api_v1_admin_repositories__repo_id__pull_status_get","parameters":[{"name":"repo_id","in":"path","required":true,"schema":{"type":"string","title":"Repo Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PullStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/documents/{document_id}/content":{"get":{"tags":["documents"],"summary":"Récupérer le contenu complet d'un document","description":"Récupère le contenu complet d'un document avec ses métadonnées.\n\nEndpoint critique demandé par l'équipe client Windows.\n\nArgs:\n    document_id: UUID du document\n    version: Version spécifique (commit SHA) - optionnel\n    \nReturns:\n    JSON avec le contenu complet et les métadonnées du document\n    \nRaises:\n    404: Document non trouvé\n    500: Erreur interne","operationId":"get_document_content_api_v1_documents__document_id__content_get","parameters":[{"name":"document_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Document Id"}},{"name":"version","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Version spécifique (commit SHA)","title":"Version"},"description":"Version spécifique (commit SHA)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/documents/{document_id}/versions":{"get":{"tags":["documents"],"summary":"Récupérer l'historique des versions d'un document","description":"Récupère l'historique complet des versions Git d'un document.\n\nEndpoint critique demandé par l'équipe client Windows.\n\nArgs:\n    document_id: UUID du document\n    limit: Nombre maximum de versions (1-100)\n    \nReturns:\n    JSON avec l'historique complet des versions Git\n    \nRaises:\n    404: Document non trouvé\n    500: Erreur interne","operationId":"get_document_versions_api_v1_documents__document_id__versions_get","parameters":[{"name":"document_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Document Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Nombre maximum de versions à retourner","default":50,"title":"Limit"},"description":"Nombre maximum de versions à retourner"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/documents/{document_id}/raw":{"get":{"tags":["documents"],"summary":"Récupérer le contenu brut d'un document","description":"Retourne le contenu brut du document (format simplifié).\n\nEndpoint optionnel demandé par l'équipe client Windows.\n\nArgs:\n    document_id: UUID du document\n    \nReturns:\n    JSON simple avec le contenu brut\n    \nRaises:\n    404: Document non trouvé\n    500: Erreur interne","operationId":"get_document_raw_api_v1_documents__document_id__raw_get","parameters":[{"name":"document_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Document Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/documents/diagnostics":{"get":{"tags":["documents"],"summary":"Get Architecture Diagnostics","description":"Diagnostic de l'architecture adaptative\n\nRetourne des informations détaillées sur l'environnement détecté,\nle service Git sélectionné et les performances.","operationId":"get_architecture_diagnostics_api_v1_documents_diagnostics_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/documents/":{"post":{"tags":["documents"],"summary":"Create Document","description":"Créer un nouveau document avec architecture adaptative\n\nLe service Git optimal sera automatiquement sélectionné selon:\n- L'environnement détecté (local, cloud)\n- Le type de repository (local, GitHub)\n- Les capacités disponibles (stockage persistant, Git binary)\n\n**Comportement du paramètre `category`:**\n- `null` ou vide → `documents/titre.md` (racine)\n- `\"projects\"` → `documents/projects/titre.md`\n- `\"clients/projet-x\"` → `documents/clients/projet-x/titre.md`\n- `\"research/ai/ml\"` → `documents/research/ai/ml/titre.md`\n\n**Note:** L'arborescence avec `/` dans la catégorie est supportée pour \ncréer des sous-dossiers automatiquement.","operationId":"create_document_api_v1_documents__post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["documents"],"summary":"Get Documents","description":"Récupérer la liste des documents avec architecture adaptative","operationId":"get_documents_api_v1_documents__get","parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Nombre d'éléments à ignorer","default":0,"title":"Skip"},"description":"Nombre d'éléments à ignorer"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"description":"Nombre d'éléments à retourner","default":100,"title":"Limit"},"description":"Nombre d'éléments à retourner"},{"name":"category","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filtrer par catégorie","title":"Category"},"description":"Filtrer par catégorie"},{"name":"repository_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filtrer par repository","title":"Repository Id"},"description":"Filtrer par repository"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/documents/{document_id}":{"get":{"tags":["documents"],"summary":"Get Document","description":"Récupérer un document par son ID avec architecture adaptative","operationId":"get_document_api_v1_documents__document_id__get","parameters":[{"name":"document_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Document Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/documents/stats/environment":{"get":{"tags":["documents"],"summary":"Get Environment Stats","description":"Statistiques détaillées de l'environnement et de l'architecture adaptative","operationId":"get_environment_stats_api_v1_documents_stats_environment_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/documents/test-strategies":{"post":{"tags":["documents"],"summary":"Test All Strategies","description":"Test de toutes les stratégies disponibles (pour diagnostic)\n\nTeste LocalGitService et GitHubAPIService avec le repository par défaut.","operationId":"test_all_strategies_api_v1_documents_test_strategies_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/documents/switch-repository/{repository_id}":{"post":{"tags":["documents"],"summary":"Switch Repository","description":"Force l'architecture adaptative à utiliser un repository spécifique\n\nUtile pour tester différents repositories ou changer de contexte.","operationId":"switch_repository_api_v1_documents_switch_repository__repository_id__post","parameters":[{"name":"repository_id","in":"path","required":true,"schema":{"type":"integer","title":"Repository Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/documents/health":{"get":{"tags":["documents"],"summary":"Health Check","description":"Vérification de santé spécifique à l'architecture adaptative\n\nRetourne l'état détaillé des services Git et de l'environnement.","operationId":"health_check_api_v1_documents_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/repositories/":{"get":{"tags":["repositories"],"summary":"Liste des repositories disponibles","description":"Récupère la liste de tous les repositories disponibles (endpoint public)\n\nCet endpoint répond à la demande de l'équipe client Windows pour avoir\nun accès standard aux repositories sans passer par l'endpoint admin.\n\nReturns:\n    Liste des repositories avec leurs métadonnées","operationId":"list_repositories_api_v1_repositories__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"type":"object"},"type":"array","title":"Response List Repositories Api V1 Repositories  Get"}}}}}}},"/api/v1/repositories/{repository_id}":{"get":{"tags":["repositories"],"summary":"Détails d'un repository spécifique","description":"Récupère les détails d'un repository spécifique par son ID\n\nArgs:\n    repository_id: UUID du repository\n    \nReturns:\n    Détails complets du repository","operationId":"get_repository_api_v1_repositories__repository_id__get","parameters":[{"name":"repository_id","in":"path","required":true,"schema":{"type":"string","title":"Repository Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Repository Api V1 Repositories  Repository Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/repositories/{repository_id}/documents/count":{"get":{"tags":["repositories"],"summary":"Nombre de documents dans un repository","description":"Retourne le nombre de documents dans un repository spécifique\n\nUtile pour les clients qui veulent vérifier rapidement la taille d'un repository\navant de faire des requêtes de filtrage.\n\nArgs:\n    repository_id: UUID du repository\n    \nReturns:\n    Statistiques des documents du repository","operationId":"get_repository_documents_count_api_v1_repositories__repository_id__documents_count_get","parameters":[{"name":"repository_id","in":"path","required":true,"schema":{"type":"string","title":"Repository Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Repository Documents Count Api V1 Repositories  Repository Id  Documents Count Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"summary":"Root","description":"Point d'entrée racine avec initialisation lazy","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health":{"get":{"summary":"Health Check","description":"Contrôle de santé avec initialisation lazy des services","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/wake-up":{"get":{"summary":"Wake Up","description":"Force l'initialisation complète des services - utile pour le monitoring","operationId":"wake_up_wake_up_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"DocumentCreate":{"properties":{"title":{"type":"string","maxLength":500,"minLength":1,"title":"Title","description":"Titre du document"},"content":{"type":"string","minLength":1,"title":"Content","description":"Contenu du document en Markdown"},"created_by":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Created By","description":"Créateur du document"},"category":{"anyOf":[{"type":"string","maxLength":200},{"type":"null"}],"title":"Category","description":"Catégorie du document avec support d'arborescence. • null/vide → documents/ (racine) • 'projects' → documents/projects/ • 'clients/projet-x' → documents/clients/projet-x/ • 'research/ai/ml' → documents/research/ai/ml/"},"visibility":{"type":"string","title":"Visibility","description":"Niveau de visibilité (public, team, client-xxx, private)","default":"private"},"repository_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Repository Id","description":"ID du dépôt (utilise le dépôt par défaut si non spécifié)"}},"type":"object","required":["title","content"],"title":"DocumentCreate","description":"Schéma pour la création de documents"},"DocumentListResponse":{"properties":{"documents":{"items":{"$ref":"#/components/schemas/DocumentResponse"},"type":"array","title":"Documents"},"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"size":{"type":"integer","title":"Size"},"pages":{"type":"integer","title":"Pages"}},"type":"object","required":["documents","total","page","size","pages"],"title":"DocumentListResponse","description":"Réponse pour la liste paginée de documents"},"DocumentResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id","description":"Identifiant UUID du document"},"repository_id":{"type":"string","format":"uuid","title":"Repository Id","description":"ID du dépôt associé"},"repository_name":{"type":"string","title":"Repository Name","description":"Nom du dépôt"},"title":{"type":"string","title":"Title"},"git_path":{"type":"string","title":"Git Path","description":"Chemin du fichier dans Git"},"category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category"},"category_display":{"type":"string","title":"Category Display","description":"Affichage convivial de la catégorie"},"content_preview":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content Preview"},"current_commit_sha":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Current Commit Sha"},"file_size_bytes":{"type":"integer","title":"File Size Bytes","default":0},"visibility":{"type":"string","title":"Visibility"},"visibility_display":{"type":"string","title":"Visibility Display","description":"Affichage convivial de la visibilité"},"created_by":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Created By"},"is_active":{"type":"boolean","title":"Is Active","default":true},"unique_identifier":{"type":"string","title":"Unique Identifier","description":"Identifiant unique dépôt:chemin"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"}},"type":"object","required":["id","repository_id","repository_name","title","git_path","category_display","visibility","visibility_display","unique_identifier","created_at","updated_at"],"title":"DocumentResponse","description":"Schéma de réponse pour les documents avec support multi-repo"},"GitHubRepoConfig":{"properties":{"repo_url":{"type":"string","title":"Repo Url","description":"URL du dépôt GitHub"},"local_path":{"type":"string","title":"Local Path","description":"Chemin local pour cloner le dépôt"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"Nom du dépôt"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Description du dépôt"},"branch_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Branch Name","description":"Branche à utiliser","default":"main"},"clone_if_missing":{"type":"boolean","title":"Clone If Missing","description":"Cloner si le dépôt local n'existe pas","default":true}},"type":"object","required":["repo_url","local_path"],"title":"GitHubRepoConfig","description":"Configuration pour un dépôt GitHub"},"GitStatusResponse":{"properties":{"configured":{"type":"boolean","title":"Configured"},"repo_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Repo Path"},"repo_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Repo Type"},"documents":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Documents"},"commits":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Commits"},"categories":{"anyOf":[{"items":{},"type":"array"},{"type":"null"}],"title":"Categories"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"}},"type":"object","required":["configured"],"title":"GitStatusResponse","description":"Réponse du statut Git"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"LocalRepoConfig":{"properties":{"repo_path":{"type":"string","title":"Repo Path","description":"Chemin vers le dépôt Git local"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"Nom du dépôt"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Description du dépôt"},"validate_structure":{"type":"boolean","title":"Validate Structure","description":"Valider/créer la structure TextLab","default":true}},"type":"object","required":["repo_path"],"title":"LocalRepoConfig","description":"Configuration pour un dépôt local"},"PullChanges":{"properties":{"files_updated":{"type":"integer","title":"Files Updated","description":"Nombre de fichiers mis à jour","default":0},"commits_pulled":{"type":"integer","title":"Commits Pulled","description":"Nombre de commits récupérés","default":0},"conflicts":{"items":{"type":"string"},"type":"array","title":"Conflicts","description":"Liste des conflits détectés"}},"type":"object","title":"PullChanges","description":"Informations sur les changements lors d'un pull"},"PullRequest":{"properties":{"repository_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Repository Id","description":"ID du repository (utilise le repository actif si non spécifié)"},"auto_resolve_conflicts":{"type":"boolean","title":"Auto Resolve Conflicts","description":"Tenter de résoudre automatiquement les conflits mineurs","default":false},"force_pull":{"type":"boolean","title":"Force Pull","description":"Forcer le pull même en cas de modifications locales non commitées","default":false}},"type":"object","title":"PullRequest","description":"Requête pour effectuer un pull"},"PullResponse":{"properties":{"success":{"type":"boolean","title":"Success","description":"Indique si le pull a réussi"},"message":{"type":"string","title":"Message","description":"Message de résultat"},"changes":{"$ref":"#/components/schemas/PullChanges","description":"Détails des changements"},"local_commit_before":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Local Commit Before","description":"SHA du commit local avant pull"},"local_commit_after":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Local Commit After","description":"SHA du commit local après pull"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error","description":"Message d'erreur en cas d'échec"},"error_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Type","description":"Type d'erreur (merge_conflict, auth_error, technical_error)"},"resolution_needed":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Resolution Needed","description":"Indique si une résolution manuelle est nécessaire"},"timestamp":{"type":"string","format":"date-time","title":"Timestamp","description":"Timestamp de l'opération"}},"type":"object","required":["success","message","changes"],"title":"PullResponse","description":"Réponse d'une opération pull"},"PullStatusResponse":{"properties":{"repository_id":{"type":"string","format":"uuid","title":"Repository Id","description":"ID du repository"},"repository_name":{"type":"string","title":"Repository Name","description":"Nom du repository"},"can_pull":{"type":"boolean","title":"Can Pull","description":"Indique si un pull est possible"},"has_remote":{"type":"boolean","title":"Has Remote","description":"Indique si un remote est configuré"},"behind_commits":{"type":"integer","title":"Behind Commits","description":"Nombre de commits en retard","default":0},"ahead_commits":{"type":"integer","title":"Ahead Commits","description":"Nombre de commits en avance","default":0},"local_changes":{"type":"boolean","title":"Local Changes","description":"Présence de modifications locales non commitées","default":false},"last_pull":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Pull","description":"Date du dernier pull"},"status_message":{"type":"string","title":"Status Message","description":"Message de statut lisible"}},"type":"object","required":["repository_id","repository_name","can_pull","has_remote","status_message"],"title":"PullStatusResponse","description":"Statut des pull operations"},"RepositoryCreate":{"properties":{"name":{"type":"string","title":"Name","description":"Nom du dépôt"},"type":{"type":"string","title":"Type","description":"Type (local, github, gitlab)"},"local_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Local Path","description":"Chemin local"},"remote_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Remote Url","description":"URL distante"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Description"},"is_default":{"type":"boolean","title":"Is Default","description":"Dépôt par défaut","default":false}},"type":"object","required":["name","type"],"title":"RepositoryCreate","description":"Création d'un nouveau repository"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}